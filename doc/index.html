<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>بازار ارزوئیه</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      direction: rtl;
      background: #f0f0f0;
    }
    header {
      background: linear-gradient(90deg, #f00, #ff0, #0f0, #0ff, #00f, #f0f);
      padding: 20px;
      position: relative;
      overflow: hidden;
      color: white;
      text-align: center;
    }
    .snake-text {
      display: inline-block;
      font-size: 28px;
      font-weight: bold;
      position: relative;
      animation: snakeMove 5s infinite linear;
    }
    @keyframes snakeMove {
      0% { transform: translateX(-50%); }
      50% { transform: translateX(50%); }
      100% { transform: translateX(-50%); }
    }

    #menu-icon {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 24px;
      cursor: pointer;
      z-index: 10;
    }

    #info-menu {
      display: none;
      position: absolute;
      top: 50px;
      left: 10px;
      background: white;
      border: 1px solid #ccc;
      padding: 10px;
      z-index: 9;
      width: 200px;
      text-align: right;
    }

    #lang-select {
      margin: 15px;
      font-size: 16px;
    }

    .roles {
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
      margin-top: 30px;
    }

    .role-btn {
      padding: 10px 20px;
      background: #00aaff;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 18px;
      text-decoration: none;
      transition: background 0.3s;
    }

    .role-btn:hover {
      background: #0077aa;
    }
  </style>
</head>
<body>

  <header onclick="hideMenu()">
    <div id="menu-icon" onclick="toggleMenu(event)">☰ راهنمایی</div>
    <div class="snake-text" id="market-text">بازار ارزوئیه</div>
    <div id="info-menu">
      <p id="info-seller">فروشنده: اطلاعات محصولات را ثبت می‌کند.</p>
      <p id="info-buyer">خریدار: مشاهده و خرید محصولات.</p>
      <p id="info-delivery">پیک مجازی: تحویل محصول به خریدار.</p>
    </div>
  </header>

  <div style="text-align: center">
    <label for="lang-select">🌐 زبان:</label>
    <select id="lang-select">
      <option value="fa">فارسی</option>
      <option value="en">English</option>
    </select>
  </div>

  <div class="roles">
    <a class="role-btn" href="https://orzooiyehmarket.github.io/bazar_orzooiyeh/docs/foroosh.html" id="seller-btn">ورود فروشنده</a>
    <a class="role-btn" href="https://orzooiyehmarket.github.io/bazar_orzooiyeh/docs/buyer.html" id="buyer-btn">ورود خریدار</a>
    <a class="role-btn" href="https://orzooiyehmarket.github.io/bazar_orzooiyeh/doc/peyk.html" id="delivery-btn">ورود پیک مجازی</a>
  </div>

  <script>
    // ذخیره و اعمال زبان
    const langSelect = document.getElementById('lang-select');
    const savedLang = localStorage.getItem('lang') || 'fa';
    langSelect.value = savedLang;
    applyLanguage(savedLang);

    langSelect.addEventListener('change', () => {
      const lang = langSelect.value;
      localStorage.setItem('lang', lang);
      applyLanguage(lang);
    });

    function applyLanguage(lang) {
      if (lang === 'en') {
        document.getElementById('market-text').textContent = 'Orzooiyeh Market';
        document.getElementById('info-seller').textContent = 'Seller: Registers product details.';
        document.getElementById('info-buyer').textContent = 'Buyer: Views and purchases products.';
        document.getElementById('info-delivery').textContent = 'Delivery: Delivers product to buyer.';
        document.getElementById('seller-btn').textContent = 'Seller Login';
        document.getElementById('buyer-btn').textContent = 'Buyer Login';
        document.getElementById('delivery-btn').textContent = 'Delivery Login';
        document.body.dir = "ltr";
      } else {
        document.getElementById('market-text').textContent = 'بازار ارزوئیه';
        document.getElementById('info-seller').textContent = 'فروشنده: اطلاعات محصولات را ثبت می‌کند.';
        document.getElementById('info-buyer').textContent = 'خریدار: مشاهده و خرید محصولات.';
        document.getElementById('info-delivery').textContent = 'پیک مجازی: تحویل محصول به خریدار.';
        document.getElementById('seller-btn').textContent = 'ورود فروشنده';
        document.getElementById('buyer-btn').textContent = 'ورود خریدار';
        document.getElementById('delivery-btn').textContent = 'ورود پیک مجازی';
        document.body.dir = "rtl";
      }
    }

    // کنترل نمایش راهنمایی
    function toggleMenu(event) {
      event.stopPropagation();
      const menu = document.getElementById('info-menu');
      menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    }

    function hideMenu() {
      document.getElementById('info-menu').style.display = 'none';
    }

    // کلیک بیرون از منو باعث بسته‌شدنش شود
    document.body.addEventListener('click', hideMenu);
  </script>

</body>
</html>
