<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>بازار ارزوییه</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      direction: rtl;
    }

    header {
      height: 2cm;
      background: linear-gradient(270deg, red, orange, yellow, green, blue, indigo, violet);
      background-size: 1400% 100%;
      animation: rainbowMove 10s linear infinite;
      position: relative;
      overflow: hidden;
    }

    @keyframes rainbowMove {
      0% { background-position: 0% 0%; }
      100% { background-position: 1400% 0%; }
    }

    #movingText {
      position: absolute;
      font-size: 1.5rem;
      font-weight: bold;
      white-space: nowrap;
      animation: waveMove 6s ease-in-out infinite alternate;
      color: white;
      left: 0;
      right: 0;
      text-align: center;
    }

    @keyframes waveMove {
      0% { transform: translateX(-20%) translateY(0); }
      25% { transform: translateX(-10%) translateY(5px); }
      50% { transform: translateX(0%) translateY(0); }
      75% { transform: translateX(10%) translateY(-5px); }
      100% { transform: translateX(20%) translateY(0); }
    }

    .top-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem;
      background: #f1f1f1;
    }

    #languageSelect, #guideToggle {
      font-size: 1rem;
      padding: 0.25rem 0.5rem;
      cursor: pointer;
    }

    #guideBox {
      display: none;
      background-color: white;
      border: 1px solid #ccc;
      padding: 1rem;
      margin: 1rem;
      color: black;
    }

    .role-buttons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 1rem;
      flex-wrap: wrap;
    }

    .role-btn {
      padding: 1rem 2rem;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }

    .fingerprint-box {
      display: none;
      text-align: center;
      margin-top: 1rem;
    }

    .fingerprint-box img {
      width: 100px;
      height: 100px;
    }

    @media (max-width: 600px) {
      .role-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <header>
    <div id="movingText">بازار ارزوییه</div>
  </header>

  <div class="top-controls">
    <select id="languageSelect">
      <option value="fa">فارسی</option>
      <option value="en">English</option>
    </select>
    <div id="guideToggle">☰ راهنمایی</div>
  </div>

  <div id="guideBox">
    <p id="sellerGuide">برای ورود فروشنده، اثر انگشت خود را ثبت کنید.</p>
    <p id="buyerGuide">برای ورود خریدار، اثر انگشت خود را ثبت کنید.</p>
    <p id="peykGuide">برای ورود پیک مجازی، اثر انگشت خود را ثبت کنید.</p>
  </div>

  <div class="role-buttons">
    <button class="role-btn" onclick="showFingerprint('seller')" id="sellerBtn">فروشنده</button>
    <button class="role-btn" onclick="showFingerprint('buyer')" id="buyerBtn">خریدار</button>
    <button class="role-btn" onclick="showFingerprint('peyk')" id="peykBtn">پیک مجازی</button>
  </div>

  <div class="fingerprint-box" id="fingerprintBox">
    <p id="fpText">اثر انگشت را قرار دهید...</p>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Fingerprint_picture.svg/512px-Fingerprint_picture.svg.png" alt="Fingerprint">
  </div>

  <script>
    const langMap = {
      fa: {
        title: "بازار ارزوییه",
        seller: "فروشنده",
        buyer: "خریدار",
        peyk: "پیک مجازی",
        guide: "☰ راهنمایی",
        sellerGuide: "برای ورود فروشنده، اثر انگشت خود را ثبت کنید.",
        buyerGuide: "برای ورود خریدار، اثر انگشت خود را ثبت کنید.",
        peykGuide: "برای ورود پیک مجازی، اثر انگشت خود را ثبت کنید.",
        fingerprint: "اثر انگشت را قرار دهید..."
      },
      en: {
        title: "Orzooiyeh Market",
        seller: "Seller",
        buyer: "Buyer",
        peyk: "Delivery",
        guide: "☰ Guide",
        sellerGuide: "To enter as a seller, place your fingerprint.",
        buyerGuide: "To enter as a buyer, place your fingerprint.",
        peykGuide: "To enter as a delivery agent, place your fingerprint.",
        fingerprint: "Place your fingerprint..."
      }
    };

    const guideToggle = document.getElementById('guideToggle');
    const guideBox = document.getElementById('guideBox');

    guideToggle.addEventListener('click', () => {
      guideBox.style.display = guideBox.style.display === 'block' ? 'none' : 'block';
    });

    document.addEventListener('click', (e) => {
      if (!guideBox.contains(e.target) && e.target !== guideToggle) {
        guideBox.style.display = 'none';
      }
    });

    document.getElementById('languageSelect').addEventListener('change', function () {
      const lang = this.value;
      localStorage.setItem('lang', lang);
      applyLanguage(lang);
    });

    function applyLanguage(lang) {
      document.getElementById('movingText').textContent = langMap[lang].title;
      document.getElementById('sellerBtn').textContent = langMap[lang].seller;
      document.getElementById('buyerBtn').textContent = langMap[lang].buyer;
      document.getElementById('peykBtn').textContent = langMap[lang].peyk;
      document.getElementById('guideToggle').textContent = langMap[lang].guide;
      document.getElementById('sellerGuide').textContent = langMap[lang].sellerGuide;
      document.getElementById('buyerGuide').textContent = langMap[lang].buyerGuide;
      document.getElementById('peykGuide').textContent = langMap[lang].peykGuide;
      document.getElementById('fpText').textContent = langMap[lang].fingerprint;
    }

    window.onload = () => {
      const savedLang = localStorage.getItem('lang') || 'fa';
      document.getElementById('languageSelect').value = savedLang;
      applyLanguage(savedLang);
    }

    function showFingerprint(role) {
      document.getElementById('fingerprintBox').style.display = 'block';
      setTimeout(() => {
        const lang = localStorage.getItem('lang') || 'fa';
        if (role === 'seller') {
          window.location.href = "https://orzooiyehmarket.github.io/bazar_orzooiyeh/docs/foroosh.html";
        } else if (role === 'buyer') {
          window.location.href = "https://orzooiyehmarket.github.io/bazar_orzooiyeh/docs/buyer.html";
        } else {
          window.location.href = "https://orzooiyehmarket.github.io/bazar_orzooiyeh/doc/peyk.html";
        }
      }, 2000);
    }
  </script>
</body>
</html>
