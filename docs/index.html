<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>جستجوی اعتبار سرمایه‌گذار - بازار ارزوئیه</title>
  <style>
    body {
      font-family: Tahoma, sans-serif;
      direction: rtl;
      padding: 20px;
      background: #f9f9f9;
    }
    label, input, button {
      font-size: 16px;
      margin: 5px 0;
    }
    input {
      padding: 6px;
      width: 200px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      cursor: pointer;
      background-color: #1976d2;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 4px;
    }
    .result {
      margin-top: 20px;
      padding: 15px;
      border-radius: 10px;
      font-weight: bold;
      font-size: 18px;
      display: none;
      color: white;
      width: fit-content;
    }
    .high { background-color: #d32f2f; }   /* قرمز - اعتبار بالا */
    .medium { background-color: #388e3c; } /* سبز - اعتبار متوسط */
    .low { background-color: #1976d2; }    /* آبی - اعتبار پایین */

    /* باکس رنگ‌ها */
    .color-boxes {
      margin-top: 15px;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      max-width: 700px;
    }
    .color-box-wrapper {
      flex: 1 1 110px;
      text-align: center;
    }
    .color-box {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      font-weight: bold;
      font-size: 12px;
      text-align: center;
      user-select: none;
      box-sizing: border-box;
      margin: 0 auto;
      border: none;
    }
    .color-black {
      background-color: black;
      border: 2px solid white;
    }
    .color-red { background-color: #d32f2f; }
    .color-gray { background-color: gray; }
    .color-yellow { background-color: #fbc02d; color: black; }
    .color-blue { background-color: #1976d2; }
    .color-white {
      background-color: white;
      color: black;
      border: 1px solid #ccc;
    }
    .investor-list {
      margin-top: 8px;
      font-size: 13px;
      max-height: 120px;
      overflow-y: auto;
      text-align: right;
      color: #333;
    }
    .investor-list span {
      display: block;
      margin: 2px 0;
      cursor: default;
    }
  </style>
</head>
<body>

  <h2>جستجوی اعتبار سرمایه‌گذار بر اساس شناسه - بازار ارزوئیه</h2>

  <label for="investorId">شناسه سرمایه‌گذار را وارد کنید:</label><br />
  <input type="text" id="investorId" placeholder="مثلاً INV001" />
  <button onclick="searchInvestor()">جستجو</button>

  <div class="color-boxes">
    <div class="color-box-wrapper">
      <div class="color-box color-black" onclick="alert('خریدار مورد اعتماد نیست')">
        سیاه<br />0٪
      </div>
      <div class="investor-list" id="black-list"></div>
    </div>
    <div class="color-box-wrapper">
      <div class="color-box color-red" onclick="alert('اعتبار 0 تا 10 درصد')">
        قرمز<br />0-10٪
      </div>
      <div class="investor-list" id="red-list"></div>
    </div>
    <div class="color-box-wrapper">
      <div class="color-box color-gray" onclick="alert('اعتبار 10 تا 30 درصد')">
        خاکستری<br />10-30٪
      </div>
      <div class="investor-list" id="gray-list"></div>
    </div>
    <div class="color-box-wrapper">
      <div class="color-box color-yellow" onclick="alert('اعتبار 30 تا 50 درصد')">
        زرد<br />30-50٪
      </div>
      <div class="investor-list" id="yellow-list"></div>
    </div>
    <div class="color-box-wrapper">
      <div class="color-box color-blue" onclick="alert('اعتبار 50 تا 70 درصد')">
        آبی<br />50-70٪
      </div>
      <div class="investor-list" id="blue-list"></div>
    </div>
    <div class="color-box-wrapper">
      <div class="color-box color-white" onclick="alert('اعتبار 70 تا 100 درصد')">
        سفید<br />70-100٪
      </div>
      <div class="investor-list" id="white-list"></div>
    </div>
  </div>

  <div id="result" class="result"></div>

  <script>
    const investors = {
      "INV001": { satisfaction: 85 },
      "INV002": { satisfaction: 65 },
      "INV003": { satisfaction: 40 },
      "INV004": { satisfaction: 15 },
      "INV005": { satisfaction: 5 },
      "INV006": { satisfaction: 0 },
      "INV007": { satisfaction: 72 },
      "INV008": { satisfaction: 28 },
      "INV009": { satisfaction: 45 },
      "INV010": { satisfaction: 10 },
    };

    function getCreditLevel(sat) {
      if (sat >= 70) return { level: "بالا", className: "white", colorListId: "white-list" };
      if (sat >= 50) return { level: "متوسط", className: "blue", colorListId: "blue-list" };
      if (sat >= 30) return { level: "پایین", className: "yellow", colorListId: "yellow-list" };
      if (sat >= 10) return { level: "خیلی پایین", className: "gray", colorListId: "gray-list" };
      if (sat > 0) return { level: "خیلی خیلی پایین", className: "red", colorListId: "red-list" };
      return { level: "نامعتبر", className: "black", colorListId: "black-list" };
    }

    // پر کردن لیست‌ها بر اساس رتبه بندی
    function populateInvestorLists() {
      const lists = {
        black: document.getElementById("black-list"),
        red: document.getElementById("red-list"),
        gray: document.getElementById("gray-list"),
        yellow: document.getElementById("yellow-list"),
        blue: document.getElementById("blue-list"),
        white: document.getElementById("white-list"),
      };

      // پاک کردن قبلی
      for (const key in lists) {
        lists[key].innerHTML = "";
      }

      // اضافه کردن هر سرمایه‌گذار به لیست مربوطه
      for (const id in investors) {
        const sat = investors[id].satisfaction;
        const credit = getCreditLevel(sat);
        const listElement = lists[credit.className];
        if (listElement) {
          const span = document.createElement("span");
          span.textContent = id;
          listElement.appendChild(span);
        }
      }
    }

    function searchInvestor() {
      const input = document.getElementById("investorId").value.trim().toUpperCase();
      const resultDiv = document.getElementById("result");

      if (!input) {
        resultDiv.style.display = "none";
        alert("لطفاً شناسه را وارد کنید.");
        return;
      }

      const investor = investors[input];
      if (!investor) {
        resultDiv.style.display = "none";
        alert("سرمایه‌گذار با این شناسه پیدا نشد.");
        return;
      }

      const credit = getCreditLevel(investor.satisfaction);
      resultDiv.textContent = `شناسه: ${input} - اعتبار: ${credit.level} (${investor.satisfaction}٪ رضایت بازار)`;
      resultDiv.className = `result ${credit.className}`;
      resultDiv.style.display = "block";
    }

    // اجرا هنگام بارگذاری صفحه
    window.onload = populateInvestorLists;
  </script>

</body>
</html>
